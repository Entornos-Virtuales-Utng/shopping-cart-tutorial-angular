{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from \"@angular/core\";\nimport { MessageService } from \"primeng/api\";\nlet ProductComponent = class ProductComponent {\n  constructor(cartService, messageService, primengConfig) {\n    this.cartService = cartService;\n    this.messageService = messageService;\n    this.primengConfig = primengConfig;\n    this.display = false;\n    this.productos = this.cartService.getItems();\n  }\n  ngOnInit() {\n    this.primengConfig.ripple = true;\n  }\n  share() {\n    window.alert(\"El producto ha sido compartido!!\");\n  }\n  onNotify() {\n    window.alert(\"Serás notificado cuando el producto esté en venta!!\");\n  }\n  addToCart(product) {\n    console.log(\"Agregando producto...\");\n    let total = this.cartService.getTotal(); //Total en carrito en compra\n    total += product.price;\n    //Buscar id del producto\n    let producto = this.productos.find(p => p.id === product.id);\n    if (!producto) {\n      console.log(\"Agregando producto \" + JSON.stringify(product));\n      let p = {\n        id: product.id,\n        name: product.name,\n        description: product.description,\n        price: product.price,\n        quantity: 1\n      };\n      this.cartService.addToCart(p);\n    } else {\n      console.log(\"Agregando producto \" + JSON.stringify(product));\n      producto.quantity += 1;\n      let index = this.productos.findIndex(p => p.id === product.id);\n      this.productos[index] = producto;\n    }\n    this.cartService.setTotal(total);\n    //window.alert(\"Your product has been added to the cart!\");\n    this.messageService.add({\n      severity: 'success',\n      detail: 'Se agrega al carrito de compras'\n    });\n  }\n  showDialog() {\n    this.display = true;\n  }\n};\n__decorate([Input()], ProductComponent.prototype, \"product\", void 0);\nProductComponent = __decorate([Component({\n  selector: \"app-product\",\n  templateUrl: \"./product.component.html\",\n  styleUrls: [\"./product.component.css\"],\n  providers: [MessageService]\n})], ProductComponent);\nexport { ProductComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,QAAQ,eAAe;AAGhD,SAASC,cAAc,QAAQ,aAAa;AASrC,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAK3BC,YACUC,WAAwB,EACxBC,cAA8B,EAC9BC,aAA4B;IAF5B,gBAAW,GAAXF,WAAW;IACX,mBAAc,GAAdC,cAAc;IACd,kBAAa,GAAbC,aAAa;IANvB,YAAO,GAAY,KAAK;IACxB,cAAS,GAAG,IAAI,CAACF,WAAW,CAACG,QAAQ,EAAE;EAMpC;EAEHC,QAAQ;IACN,IAAI,CAACF,aAAa,CAACG,MAAM,GAAG,IAAI;EAClC;EACAC,KAAK;IACHC,MAAM,CAACC,KAAK,CAAC,kCAAkC,CAAC;EAClD;EAEAC,QAAQ;IACNF,MAAM,CAACC,KAAK,CAAC,qDAAqD,CAAC;EACrE;EAEAE,SAAS,CAACC,OAAgB;IACxBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IAEpC,IAAIC,KAAK,GAAG,IAAI,CAACd,WAAW,CAACe,QAAQ,EAAE,CAAC,CAAC;IACzCD,KAAK,IAAIH,OAAO,CAACK,KAAK;IAEtB;IACA,IAAIC,QAAQ,GAAG,IAAI,CAACC,SAAS,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKV,OAAO,CAACU,EAAE,CAAC;IAE9D,IAAI,CAACJ,QAAQ,EAAE;MACbL,OAAO,CAACC,GAAG,CAAC,qBAAqB,GAAGS,IAAI,CAACC,SAAS,CAACZ,OAAO,CAAC,CAAC;MAC5D,IAAIS,CAAC,GAAG;QACNC,EAAE,EAAEV,OAAO,CAACU,EAAE;QACdG,IAAI,EAAEb,OAAO,CAACa,IAAI;QAClBC,WAAW,EAAEd,OAAO,CAACc,WAAW;QAChCT,KAAK,EAAEL,OAAO,CAACK,KAAK;QACpBU,QAAQ,EAAE;OACX;MAED,IAAI,CAAC1B,WAAW,CAACU,SAAS,CAACU,CAAC,CAAC;KAC9B,MAAM;MACLR,OAAO,CAACC,GAAG,CAAC,qBAAqB,GAAGS,IAAI,CAACC,SAAS,CAACZ,OAAO,CAAC,CAAC;MAC5DM,QAAQ,CAACS,QAAQ,IAAI,CAAC;MAEtB,IAAIC,KAAK,GAAG,IAAI,CAACT,SAAS,CAACU,SAAS,CAAER,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKV,OAAO,CAACU,EAAE,CAAC;MAChE,IAAI,CAACH,SAAS,CAACS,KAAK,CAAC,GAAGV,QAAQ;;IAElC,IAAI,CAACjB,WAAW,CAAC6B,QAAQ,CAACf,KAAK,CAAC;IAEhC;IACA,IAAI,CAACb,cAAc,CAAC6B,GAAG,CAAC;MACtBC,QAAQ,EAAE,SAAS;MACnBC,MAAM,EAAE;KACX,CAAC;EACF;EAEAC,UAAU;IACR,IAAI,CAACC,OAAO,GAAG,IAAI;EACrB;CACD;AA5DUC,YAARvC,KAAK,EAAE,iDAAmB;AADhBE,gBAAgB,eAN5BH,SAAS,CAAC;EACTyC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB,CAAC;EACtCC,SAAS,EAAE,CAAC1C,cAAc;CAC3B,CAAC,GACWC,gBAAgB,CA6D5B;SA7DYA,gBAAgB","names":["Component","Input","MessageService","ProductComponent","constructor","cartService","messageService","primengConfig","getItems","ngOnInit","ripple","share","window","alert","onNotify","addToCart","product","console","log","total","getTotal","price","producto","productos","find","p","id","JSON","stringify","name","description","quantity","index","findIndex","setTotal","add","severity","detail","showDialog","display","__decorate","selector","templateUrl","styleUrls","providers"],"sourceRoot":"","sources":["C:\\Users\\Soporte\\Downloads\\entornos\\src\\app\\product\\product.component.ts"],"sourcesContent":["import { Component, Input } from \"@angular/core\";\nimport { Product, CartProduct } from \"../products\";\nimport { CartService } from \"../cart.service\";\nimport { MessageService } from \"primeng/api\";\nimport { PrimeNGConfig } from \"primeng/api\";\n\n@Component({\n  selector: \"app-product\",\n  templateUrl: \"./product.component.html\",\n  styleUrls: [\"./product.component.css\"],\n  providers: [MessageService],\n})\nexport class ProductComponent {\n  @Input() product!: Product;\n  display: boolean = false;\n  productos = this.cartService.getItems();\n\n  constructor(\n    private cartService: CartService,\n    private messageService: MessageService,\n    private primengConfig: PrimeNGConfig\n  ) {}\n\n  ngOnInit() {\n    this.primengConfig.ripple = true;\n  }\n  share() {\n    window.alert(\"El producto ha sido compartido!!\");\n  }\n\n  onNotify() {\n    window.alert(\"Serás notificado cuando el producto esté en venta!!\");\n  }\n\n  addToCart(product: Product) {\n    console.log(\"Agregando producto...\");\n\n    let total = this.cartService.getTotal(); //Total en carrito en compra\n    total += product.price;\n\n    //Buscar id del producto\n    let producto = this.productos.find((p) => p.id === product.id);\n\n    if (!producto) {\n      console.log(\"Agregando producto \" + JSON.stringify(product));\n      let p = {\n        id: product.id,\n        name: product.name,\n        description: product.description,\n        price: product.price,\n        quantity: 1,\n      };\n\n      this.cartService.addToCart(p);\n    } else {\n      console.log(\"Agregando producto \" + JSON.stringify(product));\n      producto.quantity += 1;\n\n      let index = this.productos.findIndex((p) => p.id === product.id);\n      this.productos[index] = producto;\n    }\n    this.cartService.setTotal(total);\n\n    //window.alert(\"Your product has been added to the cart!\");\n    this.messageService.add({\n      severity: 'success',\n      detail: 'Se agrega al carrito de compras',\n  });\n  }\n\n  showDialog() {\n    this.display = true;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}